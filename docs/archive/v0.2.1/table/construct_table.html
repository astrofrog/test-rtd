
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>Constructing a table &mdash; Astropy v0.2.1</title>
<!-- RTD <head> -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/doctools.js"></script>

<script type="text/javascript">
  // This is included here for Javascript that doesn't have access to the templates.
  var doc_version = "v0.2.1";
  var doc_slug = "astropy";
</script>

<script type="text/javascript" src="//media.readthedocs.org/javascript/rtd.js"></script>
<!-- end RTD <head> -->

    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v0.2.1" href="../index.html" />
    <link rel="up" title="Data Tables (astropy.table)" href="index.html" />
    <link rel="next" title="Accessing a table" href="access_table.html" />
    <link rel="prev" title="Data Tables (astropy.table)" href="index.html" /> 
  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"></a>
  <ul>
    <li><a class="homelink" title="AstroPy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Python Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="access_table.html" title="Accessing a table">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="index.html" title="Data Tables (astropy.table)">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v0.2.1</a>
	 &raquo;
      </li>
      <li><a href="index.html" accesskey="U">Data Tables (<tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">astropy.table</span></tt>)</a> &raquo;</li>
      
      <li>Constructing a table</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="constructing-a-table">
<span id="construct-table"></span><h1>Constructing a table<a class="headerlink" href="#constructing-a-table" title="Permalink to this headline">¶</a></h1>
<p>There is great deal of flexibility in the way that a table can be initially
constructed.  Details on the inputs to the <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a>
constructor are in the <a class="reference internal" href="#initialization-details">Initialization Details</a> section.  However, the
easiest way to understand how to make a table is by example.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Much of the flexibility lies in the types of data structures
which can be used to initialize the table data.  The examples below show how to
create a table from scratch with no initial data, create a table with a list of
columns, a dictionary of columns, or from <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> arrays (either structured or
homogeneous).</p>
<div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>For the following examples you need to import the <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> and <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> classes
along with the <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> package:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-from-scratch">
<h3>Creating from scratch<a class="headerlink" href="#creating-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>A Table can be created without any initial input data or even without any
initial columns.  This is useful for building tables dynamically if the initial
size, columns, or data are not known.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Adding columns or rows requires making a new copy of the entire
table table each time, so in the case of large tables this may be slow.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;c&#39;</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span> <span class="n">dtypes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="list-input">
<h3>List input<a class="headerlink" href="#list-input" title="Permalink to this headline">¶</a></h3>
<p>A typical case is where you have a number of data columns with the same length
defined in different variables.  These might be Python lists or <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> arrays
or a mix of the two.  These can be used to create a <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> by putting the column
data variables into a Python list.  In this case the column names are not
defined by the input data, so they must either be set using the <tt class="docutils literal"><span class="pre">names</span></tt>
keyword or they will be auto-generated as <tt class="docutils literal"><span class="pre">col&lt;N&gt;</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)&gt;</span>
<span class="go">array([(1, 2.0, &#39;x&#39;), (4, 5.0, &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;), (&#39;b&#39;, &#39;&lt;f8&#39;), (&#39;c&#39;, &#39;|S1&#39;)])</span>
</pre></div>
</div>
<p><strong>Make a new table using columns from the first table</strong></p>
<p>Once you have a <tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt> then you can make new table by selecting columns
and putting this into a Python list, e.g. <tt class="docutils literal"><span class="pre">[</span> <span class="pre">t['c'],</span> <span class="pre">t['a']</span> <span class="pre">]</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]])</span>
<span class="go">&lt;Table rows=2 names=(&#39;c&#39;,&#39;a&#39;)&gt;</span>
<span class="go">array([(&#39;x&#39;, 1), (&#39;y&#39;, 4)],</span>
<span class="go">      dtype=[(&#39;c&#39;, &#39;|S1&#39;), (&#39;a&#39;, &#39;&lt;i8&#39;)])</span>
</pre></div>
</div>
<p><strong>Make a new table using expressions involving columns</strong></p>
<p>The <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> object is derived from the standard <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> array and can be used
directly in arithmetic expressions.  This allows for a compact way of making a
new table with modified column values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span><span class="p">])</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;b&#39;)&gt;</span>
<span class="go">array([(1, 12.0), (16, 15.0)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;), (&#39;b&#39;, &#39;&lt;f8&#39;)])</span>
</pre></div>
</div>
<p><strong>Different types of column data</strong></p>
<p>The list input method for <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> is very flexible since you can use a mix
of different data types to initialize a table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>  <span class="c"># vector column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;axis&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>  <span class="c"># Data column named &quot;c&quot; has a name &quot;axis&quot; that table</span>
<span class="go">&lt;Table rows=2 names=(&#39;col0&#39;,&#39;col1&#39;,&#39;axis&#39;)&gt;</span>
<span class="go">array([(1, [2, 3], &#39;x&#39;), (4, [5, 6], &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;col0&#39;, &#39;&lt;i8&#39;), (&#39;col1&#39;, &#39;&lt;i8&#39;, (2,)), (&#39;axis&#39;, &#39;|S1&#39;)])</span>
</pre></div>
</div>
<p>Notice that in the third column the existing column name <tt class="docutils literal"><span class="pre">'axis'</span></tt> is used.</p>
</div>
<div class="section" id="dictionary-input">
<h3>Dictionary input<a class="headerlink" href="#dictionary-input" title="Permalink to this headline">¶</a></h3>
<p>A dictionary of column data can be used to initialize a <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">]}</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;c&#39;,&#39;b&#39;)&gt;</span>
<span class="go">array([(1, &#39;x&#39;, 2.0), (4, &#39;y&#39;, 5.0)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;), (&#39;c&#39;, &#39;|S1&#39;), (&#39;b&#39;, &#39;&lt;f8&#39;)])</span>
</pre></div>
</div>
<p><strong>Specify the column order and optionally the data types</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span> <span class="n">dtypes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">))</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)&gt;</span>
<span class="go">array([(1.0, 2, &#39;x&#39;), (4.0, 5, &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;f4&#39;), (&#39;b&#39;, &#39;&lt;i4&#39;), (&#39;c&#39;, &#39;|S2&#39;)])</span>
</pre></div>
</div>
<p><strong>Different types of column data</strong></p>
<p>The input column data can be any data type that can initialize a <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="go">           &#39;b&#39;: np.array([[2, 3], [5, 6]]),</span>
<span class="go">           &#39;c&#39;: Column(data=[&#39;x&#39;, &#39;y&#39;], name=&#39;axis&#39;)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)&gt;</span>
<span class="go">array([(1, [2, 3], &#39;x&#39;), (4, [5, 6], &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;), (&#39;b&#39;, &#39;&lt;i8&#39;, (2,)), (&#39;c&#39;, &#39;|S1&#39;)])</span>
</pre></div>
</div>
<p>Notice that the key <tt class="docutils literal"><span class="pre">'c'</span></tt> takes precendence over the existing column name
<tt class="docutils literal"><span class="pre">'axis'</span></tt> in the third column.  Also see that the <tt class="docutils literal"><span class="pre">'b'</span></tt> column is a vector
column where each row element is itself a 2-element array.</p>
<p><strong>Renaming columns is not possible</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">2</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;astropy/table/table.py&quot;</span>, line <span class="m">404</span>, in <span class="n">__init__</span>
    <span class="n">init_func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">dtypes</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
  File <span class="nb">&quot;astropy/table/table.py&quot;</span>, line <span class="m">467</span>, in <span class="n">_init_from_dict</span>
    <span class="n">data_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">]</span>
<span class="gr">KeyError</span>: <span class="n">&#39;a_new&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="numpy-structured-array">
<h3>NumPy structured array<a class="headerlink" href="#numpy-structured-array" title="Permalink to this headline">¶</a></h3>
<p>The structured array is the standard mechanism in <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> for storing heterogenous
table data.  Most scientific I/O packages that read table files (e.g.
<a class="reference external" href="http://www.stsci.edu/resources/software_hardware/pyfits">PyFITS</a>,
<a class="reference external" href="http://stsdas.stsci.edu/astrolib/vo/html/intro_table.html">vo.table</a>,
<a class="reference external" href="http://cxc.harvard.edu/contrib/asciitable/">asciitable</a>)
will return the table in an object that is based on the structured array.
A structured array can be created using:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
<span class="gp">... </span>                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)],</span>
<span class="gp">... </span>               <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;i8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;f8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">)])</span>
</pre></div>
</div>
<p>From <tt class="docutils literal"><span class="pre">arr</span></tt> it is simple to create the corresponding <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)&gt;</span>
<span class="go">array([(1, 2.0, &#39;x&#39;), (4, 5.0, &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;), (&#39;b&#39;, &#39;&lt;f8&#39;), (&#39;c&#39;, &#39;|S2&#39;)])</span>
</pre></div>
</div>
<p>Note that in the above example and most the following ones we are creating a
table and immediately asking the interactive Python interpreter to print the
table to see what we made.  In real code you might do something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
</pre></div>
</div>
<p><strong>New column names</strong></p>
<p>The column names can be changed from the original values by providing the
<tt class="docutils literal"><span class="pre">names</span></tt> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">))</span>
<span class="go">&lt;Table rows=2 names=(&#39;a_new&#39;,&#39;b_new&#39;,&#39;c_new&#39;)&gt;</span>
<span class="go">array([(1, 2.0, &#39;x&#39;), (4, 5.0, &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a_new&#39;, &#39;&lt;i8&#39;), (&#39;b_new&#39;, &#39;&lt;f8&#39;), (&#39;c_new&#39;, &#39;|S2&#39;)])</span>
</pre></div>
</div>
<p><strong>New data types</strong></p>
<p>Likewise the data type for each column can by changed with <tt class="docutils literal"><span class="pre">dtypes</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">dtypes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>
<span class="go">&lt;Table rows=2 names=(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)&gt;</span>
<span class="go">array([(1.0, 2, &#39;x&#39;), (4.0, 5, &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;f4&#39;), (&#39;b&#39;, &#39;&lt;i4&#39;), (&#39;c&#39;, &#39;|S4&#39;)])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">),</span> <span class="n">dtypes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>
<span class="go">&lt;Table rows=2 names=(&#39;a_new&#39;,&#39;b_new&#39;,&#39;c_new&#39;)&gt;</span>
<span class="go">array([(1.0, 2, &#39;x&#39;), (4.0, 5, &#39;y&#39;)],</span>
<span class="go">      dtype=[(&#39;a_new&#39;, &#39;&lt;f4&#39;), (&#39;b_new&#39;, &#39;&lt;i4&#39;), (&#39;c_new&#39;, &#39;|S4&#39;)])</span>
</pre></div>
</div>
</div>
<div class="section" id="numpy-homogeneous-array">
<h3>NumPy homogeneous array<a class="headerlink" href="#numpy-homogeneous-array" title="Permalink to this headline">¶</a></h3>
<p>A normal <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> 2-d array (where all elements have the same type) can be
converted into a <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a>.  In this case the column names are not specified by
the data and must either be provided by the user or will be automatically
generated as <tt class="docutils literal"><span class="pre">col&lt;N&gt;</span></tt> where <tt class="docutils literal"><span class="pre">&lt;N&gt;</span></tt> is the column number.</p>
<p><strong>Basic example with automatic column names</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="go">&lt;Table rows=2 names=(&#39;col0&#39;,&#39;col1&#39;,&#39;col2&#39;)&gt;</span>
<span class="go">array([(1, 2, 3), (4, 5, 6)],</span>
<span class="go">      dtype=[(&#39;col0&#39;, &#39;&lt;i8&#39;), (&#39;col1&#39;, &#39;&lt;i8&#39;), (&#39;col2&#39;, &#39;&lt;i8&#39;)])</span>
</pre></div>
</div>
<p><strong>Column names and types specified</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">),</span> <span class="n">dtypes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>
<span class="go">&lt;Table rows=2 names=(&#39;a_new&#39;,&#39;b_new&#39;,&#39;c_new&#39;)&gt;</span>
<span class="go">array([(1.0, 2, &#39;3&#39;), (4.0, 5, &#39;6&#39;)],</span>
<span class="go">      dtype=[(&#39;a_new&#39;, &#39;&lt;f4&#39;), (&#39;b_new&#39;, &#39;&lt;i4&#39;), (&#39;c_new&#39;, &#39;|S4&#39;)])</span>
</pre></div>
</div>
<p><strong>Referencing the original data</strong></p>
<p>It is possible to reference the original data for an homogeneous array as long
as the data types are not changed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Python arrays versus `numpy` arrays as input</strong></p>
<p>There is a slightly subtle issue that is important to understand in the way
that <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> objects are created.  Any data input that looks like a Python list
(including a tuple) is considered to be a list of columns.  In contrast an
homogeneous <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> array input is interpreted as a list of rows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>    <span class="c"># Two columns, three rows</span>
<span class="go">&lt;Table rows=3 names=(&#39;col0&#39;,&#39;col1&#39;)&gt;</span>
<span class="go">array([(1, 4), (2, 5), (3, 6)],</span>
<span class="go">      dtype=[(&#39;col0&#39;, &#39;&lt;i8&#39;), (&#39;col1&#39;, &#39;&lt;i8&#39;)])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">np_arr</span><span class="p">)</span>  <span class="c"># Three columns, two rows</span>
<span class="go">&lt;Table rows=2 names=(&#39;col0&#39;,&#39;col1&#39;,&#39;col2&#39;)&gt;</span>
<span class="go">array([(1, 2, 3), (4, 5, 6)],</span>
<span class="go">      dtype=[(&#39;col0&#39;, &#39;&lt;i8&#39;), (&#39;col1&#39;, &#39;&lt;i8&#39;), (&#39;col2&#39;, &#39;&lt;i8&#39;)])</span>
</pre></div>
</div>
<p>This dichotomy is needed to support flexible list input while retaining the
natural interpretation of 2-d <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> arrays where the first index corresponds
to data &#8220;rows&#8221; and the second index corresponds to data &#8220;columns&#8221;.</p>
<p>If you have a Python list which is structured as a list of data rows, use the
following trick to effectively transpose into a list of columns for
initializing a <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">],</span>  <span class="c"># list of rows</span>
<span class="go">           [2, 3.0, &#39;values&#39;]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_arr</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">arr</span><span class="p">)</span>  <span class="c"># transpose to a list of columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_arr</span>
<span class="go">[(1, 2), (2.0, 3.0), (&#39;string&#39;, &#39;values&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">col_arr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="table-columns">
<h3>Table columns<a class="headerlink" href="#table-columns" title="Permalink to this headline">¶</a></h3>
<p>A new table can be created by selecting a subset of columns in an existing
table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]</span>  <span class="c"># Makes a copy of the data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">t2</span>
<span class="go">&lt;Table rows=0 names=(&#39;c&#39;,&#39;b&#39;,&#39;a&#39;)&gt;</span>
<span class="go">array([],</span>
<span class="go">      dtype=[(&#39;c&#39;, &#39;&lt;f8&#39;), (&#39;b&#39;, &#39;&lt;f8&#39;), (&#39;a&#39;, &#39;&lt;f8&#39;)])</span>
</pre></div>
</div>
<p>An alternate way to use the <tt class="docutils literal"><span class="pre">columns</span></tt> attribute (explained in the
<a class="reference internal" href="#tablecolumns">TableColumns</a> section) to initialize a new table.  This let&#8217;s you choose
columns by their numerical index or name and supports slicing syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="go">&lt;Table rows=0 names=(&#39;a&#39;,&#39;b&#39;)&gt;</span>
<span class="go">array([],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;f8&#39;), (&#39;b&#39;, &#39;&lt;f8&#39;)])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]])</span>
<span class="go">&lt;Table rows=0 names=(&#39;a&#39;,&#39;c&#39;)&gt;</span>
<span class="go">array([],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;f8&#39;), (&#39;c&#39;, &#39;&lt;f8&#39;)])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="initialization-details">
<h2>Initialization Details<a class="headerlink" href="#initialization-details" title="Permalink to this headline">¶</a></h2>
<p>A table object is created by initializing a <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> class
object with the following arguments, all of which are optional:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">data</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">numpy ndarray, dict, list, or Table</span></dt>
<dd>Data to initialize table.</dd>
<dt><tt class="docutils literal"><span class="pre">names</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd>Specify column names</dd>
<dt><tt class="docutils literal"><span class="pre">dtypes</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd>Specify column data types</dd>
<dt><tt class="docutils literal"><span class="pre">meta</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">dict-like</span></dt>
<dd>Meta-Data associated with the table</dd>
<dt><tt class="docutils literal"><span class="pre">copy</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Copy the input data (default=True).</dd>
</dl>
<p>The following subsections provide further detail on the values and options for
each of the keyword arguments that can be used to create a new <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object.</p>
<div class="section" id="data">
<h3>data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object can be initialized with several different forms
for the <tt class="docutils literal"><span class="pre">data</span></tt> argument.</p>
<dl class="docutils">
<dt><strong>numpy ndarray (structured array)</strong></dt>
<dd>The base column names are the field names of the <tt class="docutils literal"><span class="pre">data</span></tt> structured
array.  The <tt class="docutils literal"><span class="pre">names</span></tt> list (optional) can be used to select
particular fields and/or reorder the base names.  The <tt class="docutils literal"><span class="pre">dtypes</span></tt> list
(optional) must match the length of <tt class="docutils literal"><span class="pre">names</span></tt> and is used to
override the existing <tt class="docutils literal"><span class="pre">data</span></tt> types.</dd>
<dt><strong>numpy ndarray (homogeneous)</strong></dt>
<dd><p class="first">The <tt class="docutils literal"><span class="pre">data</span></tt> ndarray must be at least 2-dimensional, with the first
(left-most) index corresponding to row number (table length) and the
second index corresponding to column number (table width).  Higher
dimensions get absorbed in the shape of each table cell.</p>
<p class="last">If provided the <tt class="docutils literal"><span class="pre">names</span></tt> list must match the &#8220;width&#8221; of the <tt class="docutils literal"><span class="pre">data</span></tt>
argument.  The default for <tt class="docutils literal"><span class="pre">names</span></tt> is to auto-generate column names
in the form &#8220;col&lt;N&gt;&#8221;.  If provided the <tt class="docutils literal"><span class="pre">dtypes</span></tt> list overrides the
base column types and must match the length of <tt class="docutils literal"><span class="pre">names</span></tt>.</p>
</dd>
<dt><strong>dict-like</strong></dt>
<dd>The keys of the <tt class="docutils literal"><span class="pre">data</span></tt> object define the base column names.  The
corresponding values can be Column objects, numpy arrays, or list-like
objects.  The <tt class="docutils literal"><span class="pre">names</span></tt> list (optional) can be used to select
particular fields and/or reorder the base names.  The <tt class="docutils literal"><span class="pre">dtypes</span></tt> list
(optional) must match the length of <tt class="docutils literal"><span class="pre">names</span></tt> and is used to override
the existing or default data types.</dd>
<dt><strong>list-like</strong></dt>
<dd>Each item in the <tt class="docutils literal"><span class="pre">data</span></tt> list provides a column of data values and can
can be a Column object, numpy array, or list-like object.  The
<tt class="docutils literal"><span class="pre">names</span></tt> list defines the name of each column.  The names will be
auto-generated if not provided (either from the <tt class="docutils literal"><span class="pre">names</span></tt> argument or
by Column objects).  If provided the <tt class="docutils literal"><span class="pre">names</span></tt> argument must match the
number of items in the <tt class="docutils literal"><span class="pre">data</span></tt> list.  The optional <tt class="docutils literal"><span class="pre">dtypes</span></tt> list
will override the existing or default data types and must match
<tt class="docutils literal"><span class="pre">names</span></tt> in length.</dd>
<dt><strong>None</strong></dt>
<dd>Initialize a zero-length table.  If <tt class="docutils literal"><span class="pre">names</span></tt> and optionally <tt class="docutils literal"><span class="pre">dtypes</span></tt>
are provided then the corresponding columns are created.</dd>
</dl>
</div>
<div class="section" id="names">
<h3>names<a class="headerlink" href="#names" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">names</span></tt> argument provides a way to specify the table column names or
override the existing ones.  By default the column names are either taken
from existing names (for <tt class="docutils literal"><span class="pre">ndarray</span></tt> or <tt class="docutils literal"><span class="pre">Table</span></tt> input) or auto-generated
as <tt class="docutils literal"><span class="pre">col&lt;N&gt;</span></tt>.  If <tt class="docutils literal"><span class="pre">names</span></tt> is provided then it must be a list with the
same length as the number of columns.  Any list elements with value
<tt class="docutils literal"><span class="pre">None</span></tt> fall back to the default name.</p>
<p>In the case where <tt class="docutils literal"><span class="pre">data</span></tt> is provided as dict of columns, the <tt class="docutils literal"><span class="pre">names</span></tt>
argument can be supplied to specify the order of columns.  The <tt class="docutils literal"><span class="pre">names</span></tt> list
must then contain each of the keys in the <tt class="docutils literal"><span class="pre">data</span></tt> dict.  If <tt class="docutils literal"><span class="pre">names</span></tt> is not
supplied then the order of columns in the output table is not determinate.</p>
</div>
<div class="section" id="dtypes">
<h3>dtypes<a class="headerlink" href="#dtypes" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">dtypes</span></tt> argument provides a way to specify the table column data
types or override the existing types.  By default the types are either
taken from existing types (for <tt class="docutils literal"><span class="pre">ndarray</span></tt> or <tt class="docutils literal"><span class="pre">Table</span></tt> input) or
auto-generated by the <tt class="docutils literal"><span class="pre">numpy.array()</span></tt> routine.  If <tt class="docutils literal"><span class="pre">dtypes</span></tt> is provided
then it must be a list with the same length as the number of columns.  The
values must be valid <tt class="docutils literal"><span class="pre">numpy.dtype</span></tt> initializers or <tt class="docutils literal"><span class="pre">None</span></tt>.  Any list
elements with value <tt class="docutils literal"><span class="pre">None</span></tt> fall back to the default type.</p>
<p>In the case where <tt class="xref py py-obj docutils literal"><span class="pre">data</span></tt> is provided as dict of columns, the <tt class="docutils literal"><span class="pre">dtypes</span></tt> argument
must be accompanied by a corresponding <tt class="docutils literal"><span class="pre">names</span></tt> argument in order to uniquely
specify the column ordering.</p>
</div>
<div class="section" id="meta">
<h3>meta<a class="headerlink" href="#meta" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">meta</span></tt> argument is simply an object that contains meta-data associated
with the table.  It is recommended that this object be a dict or
<a class="reference external" href="http://docs.python.org/library/collections.html#collections.OrderedDict">OrderedDict</a>, but the only firm requirement is that it can be copied with
the standard library <tt class="docutils literal"><span class="pre">copy.deepcopy()</span></tt> routine.  By default <tt class="docutils literal"><span class="pre">meta</span></tt> is
an empty <a class="reference external" href="http://docs.python.org/library/collections.html#collections.OrderedDict">OrderedDict</a>.</p>
</div>
<div class="section" id="copy">
<h3>copy<a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h3>
<p>By default the input <tt class="docutils literal"><span class="pre">data</span></tt> are copied into a new internal <tt class="docutils literal"><span class="pre">np.ndarray</span></tt>
object in the Table object.  In the case where <tt class="docutils literal"><span class="pre">data</span></tt> is either an
<tt class="docutils literal"><span class="pre">np.ndarray</span></tt> object or an existing <tt class="docutils literal"><span class="pre">Table</span></tt>, it is possible to use a
reference to the existing data by setting <tt class="docutils literal"><span class="pre">copy=False</span></tt>.  This has the
advantage of reducing memory use and being faster.  However one should take
care because any modifications to the new Table data will also be seen in the
original input data.  See the <a class="reference internal" href="#id1">Copy versus Reference</a> section for more
information.</p>
</div>
</div>
<div class="section" id="copy-versus-reference">
<span id="id1"></span><h2>Copy versus Reference<a class="headerlink" href="#copy-versus-reference" title="Permalink to this headline">¶</a></h2>
<p>Normally when a new <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object is created, the input data are <em>copied</em> into
a new internal array object.  This ensures that if the new table elements are
modified then the original data will not be affected.  However, when creating a
table from a numpy ndarray object (structured or homogeneous), it is possible to
disable copying so that instead a memory reference to the original data is
used.  This has the advantage of being faster and using less memory.  However,
caution must be exercised because the new table data and original data will be
linked, as shown below:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
<span class="gp">... </span>                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)],</span>
<span class="gp">... </span>               <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;i8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;f8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>  <span class="c"># column &quot;a&quot; of the input array</span>
<span class="go">array([1, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">99</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>  <span class="c"># arr[&#39;a&#39;] got changed when we modified t[&#39;a&#39;]</span>
<span class="go">array([ 1, 99])</span>
</pre></div>
</div>
<p>Note that when referencing the data it is not possible to change the data types
since that operation requires making a copy of the data.  In this case an error
occurs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">dtypes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">2</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;astropy/table/table.py&quot;</span>, line <span class="m">351</span>, in <span class="n">__init__</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;Cannot specify dtypes when copy=False&#39;</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">Cannot specify dtypes when copy=False</span>
</pre></div>
</div>
<p>Another caveat in using referenced data is that you cannot add new row to the
table.  This generates an error because of conflict between the two references
to the same underlying memory.  Internally, adding a row may involve moving
the data to a new memory location which would corrupt the input data object.
<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a> does not allow this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;astropy/table/table.py&quot;</span>, line <span class="m">760</span>, in <span class="n">add_row</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="n">newlen</span><span class="p">,),</span> <span class="n">refcheck</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">ValueError</span>: <span class="n">cannot resize this array: it does not own its data</span>
</pre></div>
</div>
</div>
<div class="section" id="column-and-tablecolumns-classes">
<h2>Column and TableColumns classes<a class="headerlink" href="#column-and-tablecolumns-classes" title="Permalink to this headline">¶</a></h2>
<p>There are two classes, <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> and <a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a>, that are useful when
constructing new tables.</p>
<div class="section" id="column">
<h3>Column<a class="headerlink" href="#column" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> object can be created as follows, where in all cases the column
<tt class="docutils literal"><span class="pre">name</span></tt> should be provided as a keyword argument and one can optionally provide
these values:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">data</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">list, ndarray or None</span></dt>
<dd>Column data values</dd>
<dt><tt class="docutils literal"><span class="pre">dtype</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">numpy.dtype compatible value</span></dt>
<dd>Data type for column</dd>
<dt><tt class="docutils literal"><span class="pre">description</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Full description of column</dd>
<dt><tt class="docutils literal"><span class="pre">units</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Physical units</dd>
<dt><tt class="docutils literal"><span class="pre">format</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><a class="reference internal" href="#format-string">Format string</a> for outputting column values</dd>
<dt><tt class="docutils literal"><span class="pre">meta</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>Meta-data associated with the column</dd>
</dl>
<div class="section" id="initialization-options">
<h4>Initialization options<a class="headerlink" href="#initialization-options" title="Permalink to this headline">¶</a></h4>
<p>The column data values, shape, and data type are specified in one of two ways:</p>
<p><strong>Provide a ``data`` value but not a ``length`` or ``shape``</strong></p>
<blockquote>
<div><p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>  <span class="c"># shape=(2,)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>  <span class="c"># shape=(2, 2)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;world&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">dtype</span></tt> argument can be any value which is an acceptable
fixed-size data-type initializer for the numpy.dtype() method.  See
<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html">http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html</a>.
Examples include:</p>
<ul class="simple">
<li>Python non-string type (float, int, bool)</li>
<li>Numpy non-string type (e.g. np.float32, np.int64, np.bool)</li>
<li>Numpy.dtype array-protocol type strings (e.g. &#8216;i4&#8217;, &#8216;f8&#8217;, &#8216;S15&#8217;)</li>
</ul>
<p>If no <tt class="docutils literal"><span class="pre">dtype</span></tt> value is provide then the type is inferred using
<tt class="docutils literal"><span class="pre">np.array(data)</span></tt>.  When <tt class="docutils literal"><span class="pre">data</span></tt> is provided then the <tt class="docutils literal"><span class="pre">shape</span></tt>
and <tt class="docutils literal"><span class="pre">length</span></tt> arguments are ignored.</p>
</div></blockquote>
<p><strong>Provide ``length`` and optionally ``shape``, but not ``data``</strong></p>
<blockquote>
<div><p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>The default <tt class="docutils literal"><span class="pre">dtype</span></tt> is <tt class="docutils literal"><span class="pre">np.float64</span></tt>.  The <tt class="docutils literal"><span class="pre">shape</span></tt> argument is the array shape of a
single cell in the column.  The default <tt class="docutils literal"><span class="pre">shape</span></tt> is () which means a single value in
each element.</p>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>In the next major release of <tt class="xref py py-obj docutils literal"><span class="pre">astropy</span></tt> (0.3), the order of function arguments
for creating a <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> or <a class="reference internal" href="../_generated/astropy.table.table.MaskedColumn.html#astropy.table.table.MaskedColumn" title="astropy.table.table.MaskedColumn"><tt class="xref py py-class docutils literal"><span class="pre">MaskedColumn</span></tt></a> will change.  Currently the order
is <tt class="docutils literal"><span class="pre">Column(name,</span> <span class="pre">data,</span> <span class="pre">...)</span></tt>, but in 0.3 and later it will be
<tt class="docutils literal"><span class="pre">Column(data,</span> <span class="pre">name,</span> <span class="pre">...)</span></tt>.  This improves consistency with <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> and <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#numpy" title="(in NumPy v1.7)"><tt class="xref py py-obj docutils literal"><span class="pre">numpy</span></tt></a>.</p>
<p class="last">In order to use the same code for Astropy 0.2 and 0.3, column objects should
always be created using named keyword arguments for <tt class="docutils literal"><span class="pre">data</span></tt> and <tt class="docutils literal"><span class="pre">name</span></tt>,
as demonstrated in the examples above.  When Astropy 0.3 is released then the
the keyword identifiers can be dropped, for instance
<tt class="docutils literal"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">Column([1,</span> <span class="pre">2],</span> <span class="pre">'d')</span></tt>.</p>
</div>
</div>
<div class="section" id="format-string">
<span id="table-format-string"></span><h4>Format string<a class="headerlink" href="#format-string" title="Permalink to this headline">¶</a></h4>
<p>The format string controls the output of column values when a table or column
is printed or written to an ASCII table.  The format string can be either
&#8220;old-style&#8221; or &#8220;new-style&#8221;:</p>
<p><strong>Old-style</strong></p>
<p>This corresponds to syntax like <tt class="docutils literal"><span class="pre">&quot;%.4f&quot;</span> <span class="pre">%</span> <span class="pre">value</span></tt> as documented in
<a class="reference external" href="http://docs.python.org/library/stdtypes.html#string-formatting-operations">String formatting operations</a>.</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">&quot;%.4f&quot;</span></tt> to print four digits after the decimal in float format, or</p>
<p><tt class="docutils literal"><span class="pre">&quot;%6d&quot;</span></tt> to print an integer in a 6-character wide field.</p>
</div></blockquote>
<p><strong>New-style</strong></p>
<p>This corresponds to syntax like <tt class="docutils literal"><span class="pre">&quot;{:.4f}&quot;.format(value)</span></tt> as documented in
<a class="reference external" href="http://docs.python.org/library/string.html#format-string-syntax">format string syntax</a>.</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">&quot;{:.4f}&quot;</span></tt> to print four digits after the decimal in float format, or</p>
<p><tt class="docutils literal"><span class="pre">&quot;{:6d}&quot;</span></tt> to print an integer in a 6-character wide field.</p>
</div></blockquote>
<p>Note that in either case any Python format string that formats exactly
one value is valid, so <tt class="docutils literal"><span class="pre">{:.4f}</span> <span class="pre">angstroms</span></tt> or <tt class="docutils literal"><span class="pre">Value:</span> <span class="pre">%12.2f</span></tt> would both work.</p>
</div>
</div>
<div class="section" id="tablecolumns">
<h3>TableColumns<a class="headerlink" href="#tablecolumns" title="Permalink to this headline">¶</a></h3>
<p>Each <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> object has an attribute <tt class="docutils literal"><span class="pre">columns</span></tt> which is an ordered dictionary
that stores all of the <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> objects in the table (see also the <a class="reference internal" href="#column">Column</a>
section).  Technically the <tt class="docutils literal"><span class="pre">columns</span></tt> attribute is a <a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a> object,
which is an enhanced ordered dictionary that provides easier ways to select
multiple columns.  There are a few key points to remember:</p>
<ul class="simple">
<li>A <a class="reference internal" href="../_generated/astropy.table.table.Table.html#astropy.table.table.Table" title="astropy.table.table.Table"><tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt></a> can be initialized from a <a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a> object (copy is always True).</li>
<li>Selecting multiple columns from a <a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a> object returns another
<a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a> object.</li>
<li>Select one column from a <a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a> object returns a <a class="reference internal" href="../_generated/astropy.table.table.Column.html#astropy.table.table.Column" title="astropy.table.table.Column"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a>.</li>
</ul>
<p>So now look at the ways to select columns from a <a class="reference internal" href="../_generated/astropy.table.table.TableColumns.html#astropy.table.table.TableColumns" title="astropy.table.table.TableColumns"><tt class="xref py py-class docutils literal"><span class="pre">TableColumns</span></tt></a> object:</p>
<p><strong>Select columns by name</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">&lt;TableColumns names=(&#39;d&#39;,&#39;c&#39;,&#39;b&#39;)&gt;</span>
</pre></div>
</div>
<p><strong>Select columns by index slicing</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># Select first two columns</span>
<span class="go">&lt;TableColumns names=(&#39;a&#39;,&#39;b&#39;)&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c"># Reverse column order</span>
<span class="go">&lt;TableColumns names=(&#39;d&#39;,&#39;c&#39;,&#39;b&#39;,&#39;a&#39;)&gt;</span>
</pre></div>
</div>
<p><strong>Select column by index or name</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c"># Choose columns by index</span>
<span class="go">&lt;Column name=&#39;b&#39; units=None format=None description=None&gt;</span>
<span class="go">array([], dtype=float64)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>  <span class="c"># Choose column by name</span>
<span class="go">&lt;Column name=&#39;b&#39; units=None format=None description=None&gt;</span>
<span class="go">array([], dtype=float64)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">


<h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Constructing a table</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#creating-from-scratch">Creating from scratch</a></li>
<li><a class="reference internal" href="#list-input">List input</a></li>
<li><a class="reference internal" href="#dictionary-input">Dictionary input</a></li>
<li><a class="reference internal" href="#numpy-structured-array">NumPy structured array</a></li>
<li><a class="reference internal" href="#numpy-homogeneous-array">NumPy homogeneous array</a></li>
<li><a class="reference internal" href="#table-columns">Table columns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initialization-details">Initialization Details</a><ul>
<li><a class="reference internal" href="#data">data</a></li>
<li><a class="reference internal" href="#names">names</a></li>
<li><a class="reference internal" href="#dtypes">dtypes</a></li>
<li><a class="reference internal" href="#meta">meta</a></li>
<li><a class="reference internal" href="#copy">copy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copy-versus-reference">Copy versus Reference</a></li>
<li><a class="reference internal" href="#column-and-tablecolumns-classes">Column and TableColumns classes</a><ul>
<li><a class="reference internal" href="#column">Column</a><ul>
<li><a class="reference internal" href="#initialization-options">Initialization options</a></li>
<li><a class="reference internal" href="#format-string">Format string</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tablecolumns">TableColumns</a></li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>

<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/v0.2.1/docs/table/construct_table.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/table/construct_table.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2013, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3+. &nbsp;
    Last built 03 Apr 2013. <br/>
  </p>
</footer>
 <!-- End original user content -->


<br>
<br>
<br>


<style type="text/css">
  .rtd-badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    display: none;
    bottom: 11px;
    right: 166px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    display: block;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(../images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .rtd-badge.rtd {
    background: #3b4449 url(//media.readthedocs.org//images/badge-rtd.png) scroll 0px -46px no-repeat;
    border: 1px solid #282E32;
    width: 41px;
    right: 5px;
  }
  .footer_popout:hover .rtd-badge.rtd {
    background-position: top left;
    width: 160px;
  }
  .rtd-badge.revsys { background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="//readthedocs.org/projects/astropy/?fromdocs=astropy" class="rtd-badge rtd"> Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="/en/latest/">latest</a></li>
      
        <li><a href="/en/add-mpl-to-rtd-pip-req/">add-mpl-to-rtd-pip-req</a></li>
      
        <li><a href="/en/v0.2.1/">v0.2.1</a></li>
      
        <li><a href="/en/v0.2/">v0.2</a></li>
      
        <li><a href="/en/v0.1/">v0.1</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<!-- User Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30968842-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>